spring.application.name=TicBnPick

# Server
server.port=${SERVER_PORT:8080}

# Disable Docker Compose auto-start for manual control
spring.docker.compose.enabled=false

spring.profiles.active=${SPRING_PROFILES_ACTIVE:default}

# R2DBC PostgreSQL
spring.r2dbc.url=r2dbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${POSTGRES_DB:ticbnpick}
spring.r2dbc.username=${DB_USERNAME}
spring.r2dbc.password=${DB_PASSWORD}

# JDBC (Liquibase)
spring.datasource.url=jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/${POSTGRES_DB:ticbnpick}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}

# Liquibase
spring.liquibase.change-log=classpath:/db/changelog/changelog-master.xml
spring.liquibase.enabled=false

# Kafka
spring.kafka.bootstrap-servers=${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer
spring.kafka.producer.value-serializer=org.springframework.kafka.support.serializer.JsonSerializer
spring.kafka.consumer.group-id=ticbnpick-group
spring.kafka.consumer.auto-offset-reset=earliest
spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer
spring.kafka.consumer.value-deserializer=org.springframework.kafka.support.serializer.JsonDeserializer
spring.kafka.consumer.properties.spring.json.trusted.packages=*

# Elasticsearch
spring.elasticsearch.uris=${ELASTICSEARCH_URIS:http://localhost:9200}


# Gmail SMTP
spring.mail.host=smtp.gmail.com
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME}
spring.mail.password=${MAIL_PASSWORD}

spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# Email expediteur
spring.mail.from=${MAIL_USERNAME}

# Admin credentials
admin.email=${MAIL_USERNAME}
admin.password=${MAIL_PASSWORD}

# App
app.base-url=${APP_BASE_URL:http://localhost:8080}

# Logging
logging.level.org.springframework.r2dbc=INFO
logging.level.liquibase=INFO
logging.level.org.springframework.kafka=INFO
logging.level.com.polytechnique.ticbnpick=DEBUG
